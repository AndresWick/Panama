<style>
	.txtBusqueda {
		width: 30%;
		margin-left: auto;
		margin-right: auto;
	}

	.pnl_busqueda {
		height: 20%;
		text-align: center;
		padding-top: 1em;
		color: #444;
	}
	
	.modal-backdrop.fade.in {
    	display: none;
	}
	
	.modal {
    	background-color: rgba(0,0,0,0.5)!important;
	}

	.widget-title {
		height: 20%;
		text-align: center;
		padding-top: 1em;
		text-shadow: 1px 1px 2px #444;
		color: #444;
	}

	@media ( max-width : 600px) {
		.txtBusqueda {
			width: 50%;
			margin-top: 2%;
			margin-left: auto;
			margin-right: auto;
		}
		.card-view {
    		padding-left: 30%;
		}
	}

	@media ( max-width : 400px) {
		.card-view {
    		padding-left: 0%;
		}
	}
	
	@media (min-width:601px){
		.card-view {
    		padding-left: 30%;
		}
	}
	
	.no-records-found{
		display:none;
	}
	
	#closeExit {
    	margin-top: -20px;
	}
	
	th{
	 	width: 130px;
  		overflow: auto;
  		vertical-align: middle!important;
    	text-align: center;
	}
	
	#full-size{
    height: 100%;
    width: 100%;
    left: 0;
    top: 0;
    overflow: hidden;
    position: fixed;
    z-index:100;
    background-color:#21212175!important; 
	}
	
	
	#loader {
	      margin-top: 18rem;
	    margin-left: auto;
	    margin-right: auto;
	  z-index: 1;
	  border: 16px solid #f3f3f3;
	  border-radius: 50%;
	  border-top: 16px solid #3c2f2f;
	  border-right: 16px solid #c1c1c1;
	  border-bottom: 16px solid #372112;
	  border-left: 16px solid #c1c1c1;
	  width: 120px;
	  height: 120px;
	  -webkit-animation: spin 2s linear infinite;
	  animation: spin 2s linear infinite;
	}
	
	@-webkit-keyframes spin {
	  0% { -webkit-transform: rotate(0deg); }
	  100% { -webkit-transform: rotate(360deg); }
	}
	
	@keyframes spin {
	  0% { transform: rotate(0deg); }
	  100% { transform: rotate(360deg); }
	}
	
	/* Add animation to "page content" */
	.animate-bottom {
	  position: relative;
	  -webkit-animation-name: animatebottom;
	  -webkit-animation-duration: 1s;
	  animation-name: animatebottom;
	  animation-duration: 1s
	}
	
	@-webkit-keyframes animatebottom {
	  from { bottom:-100px; opacity:0 } 
	  to { bottom:0px; opacity:1 }
	}
	
	@keyframes animatebottom { 
	  from{ bottom:-100px; opacity:0 } 
	  to{ bottom:0; opacity:1 }
	}
	

</style>
<meta charset="ISO-8859-1">

<div id="full-size">
  <div id="loader"></div>
  
</div>

<div id="busqUsuarios" class="widget-box">
	<div class="widget-title">
		<h2 id="title_usuarios">Registrar Cronograma</h2>
	</div>
	<div class="widget-content nopadding">
		<div class="pnl_busqueda">
			<div>Fecha</div>
			<input id="fechaCronograma" type="date" placeholder="Fecha dd-mm-yyyy" class="form-control txtBusqueda" required />
			<br>
		
			<table class="table">
			  <thead>
			    <tr>
			      <th scope="col"><b>Tipo Buque</b></th>
			      <th scope="col"><b>Sentido</b></th>
			      <th scope="col"><b>Primer Periodo</b></th>
			      <th scope="col"><b>Segundo Periodo</b></th>
			      <th scope="col"><b>Tercer Periodo</b></th>
			      <th scope="col"><b>Periodo Especial</b></th>
			    </tr>
			  </thead>
			  <tbody>
			    <tr>
			    	<th scope="row">Regular</th>
			    	 <td>
			    	 	<br>
			      		<div>Norte</div>
			      		<br>
			      		<div>Sur</div>
					</td>
			  		<td>
			  			<input id="qmax_regular_p1_norte" name="gender" class="form-control " type="number">
			  			<input id="qmax_regular_p1_sur" name="gender" class="form-control " type="number">
			  		</td>
				    <td>
				    	<input id="qmax_regular_p2_norte" name="gender" class="form-control " type="number">
			  			<input id="qmax_regular_p2_sur" name="gender" class="form-control " type="number">
			  		</td>
				    <td>
				    	<input id="qmax_regular_p3_norte" name="gender" class="form-control " type="number">
			  			<input id="qmax_regular_p3_sur" name="gender" class="form-control " type="number">
				    </td>
				    <td>
				    	<input id="qmax_regular_p4_norte" name="gender" class="form-control " type="number">
			  			<input id="qmax_regular_p4_sur" name="gender" class="form-control " type="number">
				    </td>
			    </tr>
			    <tr>
			    	<th scope="row">Super</th>
			    	 <td>
			    	 	<br>
			      		<div>Norte</div>
			      		<br>
			      		<div>Sur</div>
					</td>
				    <td>
				    	<input id="qmax_super_p1_norte" name="gender" class="form-control " type="number">
				    	<input id="qmax_super_p1_sur" name="gender" class="form-control " type="number">
				    </td>
				    <td>
				    	<input id="qmax_super_p2_norte" name="gender" class="form-control " type="number">
				    	<input id="qmax_super_p1_sur" name="gender" class="form-control " type="number">
				    </td>
				    <td>
				    	<input id="qmax_super_p3_norte" name="gender" class="form-control " type="number">
				    	<input id="qmax_super_p1_sur" name="gender" class="form-control " type="number">
				    </td>
				    <td>
				    	<input id="qmax_super_p4_norte" name="gender" class="form-control " type="number">
				    	<input id="qmax_super_p1_sur" name="gender" class="form-control " type="number">
				    </td>
			    </tr>
			    <tr>
			      <th scope="row">Neopanamax</th>
			       <td>
			       		<br>
			      		<div>Norte</div>
			      		<br>
			      		<div>Sur</div>
					</td>
			     	<td>
			     		<input id="qmax_neopanamax_p1_norte" name="gender" class="form-control " type="number">
			     		<input id="qmax_neopanamax_p1_sur" name="gender" class="form-control " type="number">
			     	</td>
				    <td>
				    	<input id="qmax_neopanamax_p2_norte" name="gender" class="form-control " type="number">
				    	<input id="qmax_neopanamax_p2_sur" name="gender" class="form-control " type="number">
				    </td>
				    <td>
				    	<input id="qmax_neopanamax_p3_norte" name="gender" class="form-control " type="number">
				    	<input id="qmax_neopanamax_p3_sur" name="gender" class="form-control " type="number">
				    </td>
				    <td>
				    	<input id="qmax_neopanamax_p4_norte" name="gender" class="form-control " type="number">
				    	<input id="qmax_neopanamax_p4_sur" name="gender" class="form-control " type="number">
				    </td>
			    </tr>
			</tbody>
	      </table>
		<div>
			<button class="btn btn-success"  onclick="registarCronograma()">Registrar Cronograma</button>
		</div>
		</div>
	</div>
</div>

<script type="text/javascript">

	function registarCronograma(){
		/*
		var cronograma = {
			cupos: []
		};
		  
			var item = data.treeData[i];   
			if(item.tipo=="Grupo"){
				cronograma.cupos.push({ 
					"cod_empresa": item.cod_empresa,
					"contenedor": item.ncontenedor,
				    "icon": item.nicon,
					"idFeature": item.idFeature,
					"idTreeData": item.idTreeData
				});
			}
						
			for(var i in cronograma.cupos) {    
				var itemGroup = cronograma.cupos[i];   
					dataOrder.treeData.push({ 
						"cod_empresa": itemGroup.cod_empresa,
					    "contenedor": itemGroup.ncontenedor,
					    "icon": itemGroup.nicon,
					    "idFeature": itemGroup.idFeature,
					    "idTreeData": itemGroup.idTreeData
					});
			}
		
		var k_tipoBuque= $('select[id="tipoBuque"] option:selected').val();
		var f_fecha=document.getElementById("fechaCronograma").value;
		var k_idPer=$('select[id="tipoPeriodo"] option:selected').val();
		var n_sentido=$('select[id="sentido"] option:selected').val();
		var q_cupos_max=document.getElementById("qmax").value;
		*/
	}
	
	function addCronograma(k_tipoBuque,f_fecha,k_idPer,n_sentido,q_cupos_max){
		   var categorias=[];
			   
			   var promiseCount = 0;
			   var top=25;

			   function testPromise() {
			     var thisPromiseCount = ++promiseCount;

			     var p1 = new Promise(
			       // La función resolvedora es llamada con la
			       // habilidad de resolver o rechazar la promesa
			       function(resolve, reject) {
			    	   
			    		$.ajax({
			    	        url: 'cronograma',
			    	        type: 'POST',
			    	        data: JSON.stringify({
			    	        	k_tipoBuque: k_tipoBuque,
			    	        	f_fecha:f_fecha,
			    	        	k_idPer:k_idPer,
			    	        	n_sentido:n_sentido,
			    	        	q_cupos_max:q_cupos_max
			    	            }),
			    	        processData: false,
			    	        contentType: "application/json",
			    	        success:function(data){
			    	    		console.log("registrando");
			    	        	alert(data);
			    	        },
			    	        error:function(data){
			    	        	alert(data.responseText)
			    	        }
			    	    })
			       }
			     );

			     p1.then(
			       function(cat) {
			    	   if(thisPromiseCount<top){	   
			    		   testPromise();
			    	   }	   
						document.getElementById("full-size").style.display = "none";
			       })
			       .catch(
			       // Registrar la razón del rechazo
			       function(reason) {
			         console.log('Manejar promesa rechazada ('+reason+') aquí.');
			       });
			   }
			   testPromise();	    		  
		}
	
</script>




